Техническое задание на итоговый
проект
Владелец большого магазина во время коронавирусного карантина решил
перевести свой магазин в онлайн. Для этого он хочет создать платформу, на которой
сможет разместить информацию о своём товаре.
Технические требования к проекту
Аналоги нашего интернет-магазина: holodilnik.ru, citilink.ru, ozon.ru.
Проект должен быть разработан на фреймворке Django и должен быть
«легкопереносимым». Это значит, что запуск проекта должен осуществляться путём
клонирования репозитория, установки необходимых .env-опций и выполнения
миграции.
Если используются определённые нестандартные конфигурации веб-серверов
(сервер очередей, nginx, fpm, docker и прочее), они должны быть под контролем
версий внутри проекта в отдельной директории.
Админпанель управления интернет-магазином должна быть реализована
с помощью Django Admin.
Установка БД проекта должна полностью осуществляться командой миграции.
Если необходимо выполнить и другие команды/действия, то нужно создать файл
Readme.md и в нём указать шаги для развёртывания проекта. При этом миграции
должны быть корректными, то есть их можно последовательно применить и
последовательно отменить.
В проекте должна быть миграция, которая устанавливает следующие
обязательные данные на проекте: администратор, роли пользователей на сайте, а
также (если это требуется) другие данные.
В проекте должна быть реализована фикстура данных, которая добавляет
покупателей с простым паролем (123456), а также товары, категории товаров,
продавцов, цены, заказы, скидки и другие данные, которые могут пригодиться
для полноценных демонстрации и тестирования проекта.
Базовый процесс разворачивания проекта:
● git clone;
● изменение файла .env;
● python manage.py migrate;
● другие шаги по настройке (конфигурирование очередей и других
сервисов проекта);
● python manage.py runserver 0.0.0.0:8000.
Структура сайта
● Главная страница.
● Каталог с фильтром и сортировкой:
○ Сам каталог товаров.
○ Детальная страница товара, с отзывами.
● Оформление заказа:
1
○ Корзина.
○ Оформление заказа.
○ Оплата.
● Личный кабинет:
○ Личный кабинет.
○ Профиль.
○ История заказов.
● Административный раздел:
○ Просмотр и редактирование товаров.
○ Просмотр и редактирование заказов.
○ Просмотр и редактирование категорий каталога.
Роли на сайте
Роли пользователей:
● Администратор — полный доступ к админке.
● Покупатель — любой авторизованный пользователь, может
пользоваться всеми публичными возможностями системы.
● Незарегистрированный пользователь — может просматривать каталоги
и собирать корзину.
Состав страниц
Шапка сайта состоит из ссылок на соцсети, ссылок на регистрацию и
авторизацию, логотипа — названия сайта, меню авторизованного пользователя,
включая иконку перехода на страницы сравнения и корзины, а также меню
для навигации по сайту, меню категорий товаров и строку для поиска. Поиск ведёт
на страницу каталога с предустановленным значением фильтра по названию.
Если пользователь авторизован, то ссылки на авторизацию и регистрацию
заменяются на ссылку на личный кабинет.
Меню содержит навигационное меню, состоящее из ссылок на различные
страницы сайта.
Меню категорий содержит категории товаров для удобной навигации по сайту.
В это меню попадают все активные категории товаров на сайте. Для каждой категории
в меню отображается текст и иконка, если она указана у этой категории.
Максимальный уровень вложенности — 2.
Внешний вид и состав страниц соответствуют приложенной вёрстке.
Футер сайта состоит из названия сайта, навигационного меню по статичным
страницам и другой статичной информации.
Главная страница
На главной странице выводятся следующие элементы: три избранные
категории товаров, каталог топ-товаров (popular product)(hot offers) и слайдер
с ограниченным тиражом (Limited edition).
2
В каталог топ-товаров попадают восемь первых товаров по параметру «индекс
сортировки». Если же индекс сортировки совпадает, то товары сортируются
по количеству покупок.
В блок «Ограниченный тираж» попадают до 16 товаров с галочкой
«ограниченный тираж». Отображаются эти товары в виде слайдера.
Каталог
На сайте отображается каталог товаров с возможностью фильтрации,
сортировки и постраничной навигации.
Список товаров
У каждого товара отображаются:
● Название.
● Изображение товара.
● Краткое описание.
● Цена товара.
● Количество отзывов.
● Кнопка «Купить».
Название, изображение и краткое описание являются ссылками на детальную
страницу товара.
Количество отзывов является ссылкой на детальную страницу товара сразу
к отзывам.
При нажатии на кнопку «Купить» происходит добавление товара в корзину.
Выводится всплывающее сообщение с подсказкой о том, что товар успешно добавлен
в корзину, и возможностью перейти в корзину или продолжить покупки.
Параметры сортировки
Над каталогом выводится блок с переключателями направления сортировки
со следующими возможностями: по популярности (количеству покупок товара),
по цене, по отзывам (их количеству), по новизне. Каждый переключатель можно
установить в направлении по возрастанию или убыванию, одновременно можно
применить только один вид сортировки.
Фильтр
Рядом с каталогом товаров выводится фильтр, с помощью которого можно
установить фильтрацию для вывода товаров в каталоге по названию, цене,
производителю и по всем характеристикам, которые представлены в данной категории
товаров.
Поиск по названию осуществляется простым регистронезависимым
вхождением указанной строки в название товара.
3
Фильтр по характеристикам включает в себя три возможных варианта
применения фильтра:
● Выпадающий список (одиночный или множественный) —
для характеристик с возможностью одного или множественного выбора.
● Галочка — для фильтрации только с установленным признаком.
● Текст — для всех остальных характеристик, поиск простым
регистронезависимым вхождением указанной строки в характеристику
товара.
Детальная страница товара (Product.html)
Отображается подробная информация о выбранном товаре, последние отзывы
с возможностью подгрузить ещё и добавить новый отзыв, а также цена на этот товар.
При нажатии на кнопку «Купить» происходит добавление товара в корзину.
Выводится всплывающее сообщение с подсказкой о том, что товар успешно добавлен
в корзину.
Покупатель, если он авторизован, может добавить свой отзыв на товар.
Для этого выводится форма для оставления отзыва. Если пользователь
не авторизован, то отображается сообщение о том, что нужно авторизоваться, чтобы
оставить отзыв, со ссылкой на страницу авторизации.
В блоке «Цена» отображается цена на товар и кнопка «Купить», при нажатии
на которую происходит добавление товара в корзину.
Оформление заказа
Раздел оформления заказа представляет собой последовательность шагов
по оформлению заказа, корзину и само оформление заказа.
Корзина
На этой странице отображается корзина пользователя, все товары, которые
пользователь добавил в корзину, пока ходил по сайту. Для каждого товара
отображаются: название, изображение, краткое описание, цена, элементы управления
количеством и кнопка «Удалить».
Под корзиной выводится сводная информация, общая стоимость и кнопка
«Оформить заказ», при нажатии на которую происходит переход на форму
оформления заказа.
Оформление заказа
На странице происходит последовательное пошаговое оформление заказа:
1. Указываются параметры пользователя.
2. Выбирается способ доставки.
3. Выбирается способ оплаты.
4. Отображается блок подтверждения заказа.
4
Параметры пользователя
На этой странице должны быть указаны Ф. И. О., email и телефон
пользователя. Если пользователь авторизован, то данные выбираются из его
профиля автоматически и подставляются в форму. Если пользователь не
авторизован, то под этими полями также выводится поле для ввода пароля с
подтверждением и ссылка «Я уже зарегистрирован». Если пользователь вводит
пароль, то происходит попытка регистрации пользователя и его авторизация; если
такой пользователь уже существует (проверка уникальности по email), то выводится
ошибка: «Пользователь с указанным email существует, вы можете авторизоваться» и
отображается всплывающее окно для авторизации. Если пользователь нажимает на
ссылку «Я уже зарегистрирован», то отображается это же всплывающее окно для
авторизации.
После авторизации данные пользователя подставляются в форму оформления
заказа. После заполнения формы пользователь может перейти на следующий шаг:
выбор способа доставки.
Способ доставки
Выбирается один из вариантов: «Доставка» или «Экспресс-доставка», которая
стоит дополнительно 500 рублей (значение должно указываться в административном
интерфейсе).
Для обычной доставки действует следующее правило: если стоимость заказа
меньше 2000 рублей, то доставка стоит 200 рублей, если больше, то бесплатно.
Значения 2000 и 200 также должны задаваться в административном интерфейсе.
Ещё на форме выбора доставки отображаются поля для ввода адреса:
«Город», «Адрес».
Способ оплаты
Выбирается один из вариантов: «Онлайн картой», «Онлайн со случайного
чужого счёта».
Подтверждение заказа
Выводится итоговая информация по заказу, корзина, общая стоимость, способ
доставки и оплаты, поле для ввода «Комментарий к заказу» и кнопка «Оплатить».
При нажатии на кнопку «Оплатить» происходит создание заказа, и
пользователь переходит на страницу оплаты этого заказа.
Страница оплаты
Страница фиктивной оплаты.
Если пользователь выбрал способ оплаты «Онлайн картой», то нужно
отобразить поле «Номер карты», в которое можно ввести только число не длиннее
восьми цифр.
Если пользователь выбрал способ оплаты «Онлайн со случайного чужого
счёта», то рядом с полем для ввода номера счёта должна отображаться кнопка
«Сгенерировать случайный счёт», нажатие на которую подставляет случайное
восьмизначное число в поле.
Под полем ввода выводится кнопка «Оплатить».
5
Для обоих способов оплаты используется одинаковая валидация: номер
должен быть чётным и не длиннее восьми цифр.
После нажатия на кнопку «Оплатить» и прохождения валидации пользователю
выводится сообщение: «Ждём подтверждения оплаты от платёжной системы».
А «процесс» оплаты добавляется в очередь, и из очереди происходит запрос
на фиктивный сервис оплаты, который работает по следующей логике:
● если введённый номер чётный и не заканчивается на ноль, то оплата
подтверждается;
● если введённый номер нечётный или заканчивается на ноль, то сервис
генерирует случайную ошибку оплаты.
На странице заказа в личном кабинете должен отображаться статус оплаты и
текст ошибки, если он есть.
Личный кабинет
В этот раздел имеет доступ только покупатель на сайте (авторизованный
пользователь).
Личный кабинет
На сводной странице личного кабинета отображаются два блока:
● аватарка, Ф. И. О. и ссылка на редактирование профиля;
● последний заказ покупателя со ссылкой на него и на историю заказов
покупателя.
Профиль
На этой странице пользователь может изменить Ф. И. О., телефон, email,
пароль и аватарку.
Поле email и Ф. И. О. обязательны для заполнения. В качестве аватарки можно
использовать только изображения размера не более 2 Мб. Телефон и email должны
быть уникальными на сайте.
При возникновении ошибок поля, к которым эти ошибки относятся,
подсвечиваются красной рамкой, рядом с ними указывается текст ошибки.
При успешном изменении профиля выводится соответствующее сообщение.
История заказов
История заказов пользователя отображается в порядке убывания даты
оформления заказа, для каждого заказа выводится: общая стоимость, способы оплаты
и доставки, статус оплаты и текст ошибки, если есть. Также можно перейти
на страницу этого заказа. На этой странице отображаются все поля заказа,
без возможности изменения, а также подробно отображается состав заказа. Кроме
того, если заказ не был оплачен (ошибка), то на этой странице появляется кнопка,
чтобы произвести оплату снова — с возможностью выбрать другой способ оплаты и
изменить номер карты или счёта.
6
Административный раздел
Этот раздел доступен только администратору сайта. Для создания
административного раздела используйте стандартную админпанель в Django,
предоставляющую необходимый функционал и шаблон интерфейса, а также готовую
для расширения.
Разделы управления данными
Разрешается не точное соответствие описанию этого раздела
при использовании админки.
В административном разделе находятся подразделы, на которых
администратор может полностью управлять данными об элементе: просматривать
список, редактировать элемент, добавлять новый и удалять существующие.
Разделы позволяют управлять:
● пользователями,
● товарами,
● категориями товаров,
● заказами,
● отзывами.
Список элементов
Реализуется страница списка элементов в виде таблицы. Выводятся самые
значимые поля для элементов. А также ссылки на страницу добавления нового
элемента и для каждого элемента также ссылка на редактирование и удаление.
Удаление товаров, заказов, пользователей и категорий товаров
осуществляется только с использованием механизма мягкого удаления.
Добавление элемента
На этой странице реализуется веб-форма по добавлению элемента, в ней
выводятся все поля, которые можно установить для элемента. Реализуется валидация
полей и вывод ошибок. Если при отправке формы возникла ошибка, то ошибка должна
быть выведена и значения в поля должны быть подставлены те, которые указывал
пользователь.
После успешного добавления пользователь оказывается на странице списка
элементов и видит сообщение об успешном добавлении элемента, при повторном
обновлении страницы это сообщение должно пропадать.
Изменение элемента
При нажатии на ссылку «Изменить» пользователь оказывается на странице
изменения элементов, где выводятся все поля, которые можно изменить
для элемента. Реализуется валидация полей и вывод ошибок. Если при отправке
формы возникла ошибка, то ошибка должна быть выведена и значения в поля должны
быть подставлены те, которые указывал пользователь.
После успешного изменения пользователь оказывается на странице списка
элементов и видит сообщение об успешном изменении элемента, при повторном
обновлении страницы это сообщение должно пропадать.
7
Удаление элемента
Удаление товаров, заказов, пользователей и категорий товаров
осуществляется только с использованием механизма мягкого удаления.
При нажатии на ссылку удаления у пользователя запрашивается
подтверждение, и если он согласен, то должно происходить удаление.
После успешного удаления пользователь оказывается на странице списка
элементов и видит сообщение об успешном удалении элемента, при повторном
обновлении страницы это сообщение выводиться уже не должно.
Если удаление по каким-то причинам не выполнено, то должно быть выведено
сообщение об ошибке